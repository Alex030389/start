'use strict';

svg4everybody(); // ///////////////////////////////////// polifill inicialize
// objectFitImages();
// ///////////////////////////////////// plagin inicialize
// lazyLoad
// const lazyLoadInstance = new LazyLoad({
// 	elements_selector: ".lazy"
// });
// selectric

$('[data-js="selectric"]').selectric({
  nativeOnMobile: false
}); // ///////////////////////////////////// block

$('[data-m-btn="open"]').on('click', function () {
  openMobMenu();
});
$('[data-m-btn="close"]').on('click', function () {
  closeMobMenu();
});
$('[data-nav="main-m-nav"]').on('click', function () {
  closeMobMenu();
});
$('[data-nav="m-nav-inner"]').click(function (event) {
  event.stopPropagation();
});
$(window).resize(function () {
  if ($('.header__box-m-btn').is(':hidden')) {
    closeMobMenu();
  }
});

function openMobMenu() {
  $('[data-nav="main-m-nav"]').addClass('_open');
  $('body').css({
    "overflow-y": "hidden"
  });
}

function closeMobMenu() {
  $('[data-nav="main-m-nav"]').removeClass('_open');
  $('body').css({
    "overflow-y": "auto"
  });
  $('[data-nav="sub-m-nav"]').slideUp();
  $('[data-btn="open-m-sub-nav"]').removeClass('_active');
}

;
tdTabs('[data-tab-btn]', '[data-tab-content]');

function tdTabs(btn, content) {
  var tabBtns = $(btn);
  var tabContens = $(content);
  tabBtns.first().addClass('_active');
  tabContens.hide();
  tabContens.first().fadeIn();
  tabBtns.on('click', function () {
    tabBtns.removeClass('_active');
    $(this).addClass('_active');
    tabContens.hide();
    tabContens.eq($(this).attr('data-tab-btn')).fadeIn();
  });
}

; //////////////////////////////////////////// data-slider="1"

$('[data-slider="1"]').slick({
  slidesToShow: 3,
  slidesToScroll: 1,
  arrows: false,
  dots: true,
  infinite: true,
  accessibility: false,
  touchThreshold: 10,
  swipeToSlide: true,
  responsive: [{
    breakpoint: 1200,
    settings: {
      variableWidth: true
    }
  }, {
    breakpoint: 576,
    settings: {
      variableWidth: false,
      slidesToShow: 1,
      slidesToScroll: 1,
      infinite: false
    }
  }]
});
;
var copyCodeButton = document.querySelector('[data-btn="copy"]');

if (copyCodeButton) {
  var onCopyCodeButtonClick = function onCopyCodeButtonClick(evt) {
    evt.preventDefault(); // evt.target.classList.add('button--copy--success');

    evt.target.textContent = 'Copied';
    var range = document.createRange();
    range.selectNode(document.querySelector('[data-value="code"]'));
    window.getSelection().removeAllRanges();
    window.getSelection().addRange(range);
    document.execCommand('copy');
    window.getSelection().removeAllRanges();
  };

  copyCodeButton.addEventListener('click', onCopyCodeButtonClick);
}

;
;
$('.mod-need-help__list').on('click', '.mod-need-help__btn', function () {
  $(this).next().slideToggle();
});
;
$('[data-btn="modal"]').magnificPopup({
  type: 'inline',
  showCloseBtn: false,
  callbacks: {
    open: function open() {
      $('.modal__btn-close').on('click', function () {
        $.magnificPopup.close();
      });
    }
  }
}); // //////////////////////////// download img when modal open

$('[data-btn="modal-2"]').magnificPopup({
  type: 'inline',
  showCloseBtn: false,
  callbacks: {
    open: function open() {
      $('.class-element').each(function (ind, elem) {
        $(elem).attr('src', $(elem).data('src'));
      });
      $('.modal__btn-close').on('click', function () {
        $.magnificPopup.close();
      });
    }
  }
});
;
$(window).scroll(function () {
  if ($(this).scrollTop() > 1500) {
    // $('.up').fadeIn();
    $('.up').css({
      "transform": "translateX(0)"
    });
  } else {
    $('.up').css({
      "transform": "translateX(100px)"
    });
  }
});
$('.up').on('click', function () {
  $('body,html').animate({
    scrollTop: 0
  }, 500);
});
; // ///////////////////////////////////////////////////// stick footer

(function () {
  var isIE11 = !!window.MSInputMethodContext && !!document.documentMode;

  var stickFooter = function stickFooter() {
    var FOOTER = document.querySelector('footer');
    var MAIN = document.querySelector('main');
    var BODY = document.querySelector('body');
    var footerHeight = FOOTER.offsetHeight;
    BODY.style.position = 'relative';
    MAIN.style.marginBottom = footerHeight + 'px';
    FOOTER.style.position = 'absolute';
    FOOTER.style.bottom = '0';
    FOOTER.style.left = '0';
    FOOTER.style.width = '100%';
  };

  if (isIE11) {
    stickFooter();
    window.addEventListener('resize', stickFooter);
  }

  ;
})();